<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>åŸºç¡€è¯­æ³•</title>


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/mdbook-admonish.css">
        <link rel="stylesheet" href="../theme/pagetoc.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="setup.html">Setup</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> Foundations of Rust</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="foundations/first-project.html"><strong aria-hidden="true">1.1.</strong> ç¬¬ä¸€ä¸ªé¡¹ç›®</a></li><li class="chapter-item "><a href="foundations/basic-syntax.html"><strong aria-hidden="true">1.2.</strong> åŸºç¡€è¯­æ³•</a></li><li class="chapter-item "><a href="foundations/ownership-and-references.html"><strong aria-hidden="true">1.3.</strong> æ‰€æœ‰æƒä¸å¼•ç”¨</a></li><li class="chapter-item "><a href="foundations/advanced-syntax.html"><strong aria-hidden="true">1.4.</strong> è¿›é˜¶è¯­æ³•</a></li><li class="chapter-item "><a href="foundations/traits-and-generics.html"><strong aria-hidden="true">1.5.</strong> ç‰¹å¾ä¸æ³›å‹</a></li><li class="chapter-item "><a href="foundations/closures-and-dynamic-dispatch.html"><strong aria-hidden="true">1.6.</strong> é—­åŒ…ä¸åŠ¨æ€åˆ†å‘</a></li><li class="chapter-item "><a href="foundations/interior-mutability.html"><strong aria-hidden="true">1.7.</strong> å†…éƒ¨å¯å˜æ€§</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Crate Engineering</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="crate-engineering.html"><strong aria-hidden="true">2.1.</strong> Crate</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Multitasking</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="introduction-to-multitasking.html"><strong aria-hidden="true">3.1.</strong> å¤šä»»åŠ¡å¤„ç†ç®€ä»‹</a></li><li class="chapter-item "><a href="parallel-multitasking.html"><strong aria-hidden="true">3.2.</strong> å¹¶è¡Œå¤šä»»åŠ¡å¤„ç†</a></li><li class="chapter-item "><a href="asynchronous-multitasking.html"><strong aria-hidden="true">3.3.</strong> å¼‚æ­¥å¤šä»»åŠ¡å¤„ç†</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <h1 id="rust-åŸºç¡€è¯­æ³•"><a class="header" href="#rust-åŸºç¡€è¯­æ³•">Rust åŸºç¡€è¯­æ³•</a></h1>
<h2 id="å˜é‡"><a class="header" href="#å˜é‡">å˜é‡</a></h2>
<h3 id="ä¸å¯å˜å˜é‡"><a class="header" href="#ä¸å¯å˜å˜é‡">ä¸å¯å˜å˜é‡</a></h3>
<p>åœ¨ Rust ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå˜é‡æ˜¯ä¸å¯å˜çš„ã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦å˜é‡è¢«èµ‹å€¼ï¼Œå°±æ— æ³•æ›´æ”¹å…¶å€¼ã€‚è¿™ç§è®¾è®¡æœ‰åŠ©äºæé«˜ç¨‹åºçš„å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œé˜²æ­¢æ„å¤–çš„å€¼ä¿®æ”¹ã€‚
ä¸å¯å˜å˜é‡çš„ç‰¹æ€§ä½¿å¾—ä»£ç æ›´å…·å¯é¢„æµ‹æ€§ï¼Œå› ä¸ºç¨‹åºå‘˜å¯ä»¥ç¡®ä¿è¿™äº›å˜é‡çš„å€¼åœ¨æ•´ä¸ªä½œç”¨åŸŸä¸­ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚
è¿™æ ·ï¼Œå½“ä½ åœ¨è°ƒè¯•ä»£ç æ—¶ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°è¿½è¸ªå˜é‡çš„å€¼ï¼Œé¿å…å› ä¸ºæ„å¤–ä¿®æ”¹å˜é‡è€Œå¯¼è‡´çš„ Bugã€‚</p>
<p>ä¸‹é¢çš„ä»£ç ç¤ºä¾‹å±•ç¤ºäº†è¿™ä¸€ç‚¹ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let some_x = 5;
    println!("some_x = {}", some_x);
    some_x = 6; // å°è¯•ä¿®æ”¹å˜é‡
    println!("some_x = {}", some_x);
}</code></pre></pre>
<p>è¿è¡Œè¯¥ä»£ç æ—¶ä¼šæŠ¥é”™ï¼Œå› ä¸º <code>some_x</code> æ˜¯ä¸å¯å˜çš„ï¼Œæ— æ³•åœ¨èµ‹å€¼åå†æ¬¡æ›´æ”¹å…¶å€¼ã€‚</p>
<pre><code class="language-bash">error[E0384]: cannot assign twice to immutable variable `some_x`
 --&gt; src/main.rs:4:5
  |
2 |     let some_x = 5;
  |         ------ first assignment to `some_x`
3 |     println!("some_x = {}", some_x);
4 |     some_x = 6;
  |     ^^^^^^^^^^ cannot assign twice to immutable variable
  |
help: consider making this binding mutable
  |
2 |     let mut some_x = 5;
  |         +++

For more information about this error, try `rustc --explain E0384`.
error: could not compile `test-life` (bin "test-life") due to 1 previous error
</code></pre>
<p>ä¸ºäº†ä½¿å˜é‡å¯å˜ï¼Œéœ€è¦ä½¿ç”¨ <code>mut</code> å…³é”®å­—ã€‚</p>
<h3 id="å¯å˜å˜é‡"><a class="header" href="#å¯å˜å˜é‡">å¯å˜å˜é‡</a></h3>
<p>ä½¿ç”¨ <code>mut</code> å…³é”®å­—å£°æ˜å˜é‡æ„å‘³ç€è¯¥å˜é‡å¯ä»¥åœ¨å…¶ä½œç”¨åŸŸå†…è¢«å¤šæ¬¡ä¿®æ”¹ã€‚
è¿™æ ·çš„è®¾è®¡éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦é€šè¿‡è¿­ä»£æˆ–ä¸´æ—¶å­˜å‚¨æ¥æ”¹å˜å˜é‡çŠ¶æ€çš„æƒ…å†µä¸‹ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut some_x = 5;  // ä½¿ç”¨ mut å£°æ˜å¯å˜å˜é‡
    println!("some_x = {}", some_x);
    some_x = 6;  // ä¿®æ”¹å˜é‡çš„å€¼
    println!("some_x = {}", some_x);
}</code></pre></pre>
<p>ä½¿ç”¨ <code>mut</code> å£°æ˜çš„å˜é‡å¯ä»¥åœ¨åˆå§‹åŒ–åä¿®æ”¹å…¶å€¼ã€‚è¿™æ ·ï¼Œç¨‹åºå¯ä»¥æˆåŠŸè¿è¡Œï¼Œå¹¶è¾“å‡ºï¼š</p>
<pre><code class="language-bash">some_x = 5
some_x = 6
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶å¯å˜å˜é‡ä¸ºæˆ‘ä»¬æä¾›äº†çµæ´»æ€§ï¼Œä½†ä½¿ç”¨å®ƒä»¬æ—¶éœ€è¦è°¨æ…ã€‚
å› ä¸ºä¸€æ—¦å˜é‡æ˜¯å¯å˜çš„ï¼Œå°±å¯èƒ½å­˜åœ¨è¢«æ„å¤–ä¿®æ”¹çš„é£é™©ï¼Œè¿™ä¼šå¢åŠ è°ƒè¯•çš„éš¾åº¦ã€‚
å› æ­¤ï¼Œåœ¨ç¼–å†™ä»£ç æ—¶åº”å°½å¯èƒ½é¿å…ä¸å¿…è¦çš„å¯å˜æ€§ã€‚</p>
<h2 id="å¸¸é‡"><a class="header" href="#å¸¸é‡">å¸¸é‡</a></h2>
<p>åœ¨ Rust ä¸­ï¼Œé™¤äº†å˜é‡ä¹‹å¤–ï¼Œè¿˜æœ‰å¸¸é‡ã€‚å¸¸é‡åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ˜¯ä¸å¯å˜çš„ï¼Œå¹¶ä¸”å¿…é¡»åœ¨å£°æ˜æ—¶æŒ‡å®šå…¶ç±»å‹ã€‚
å¸¸é‡ä½¿ç”¨ <code>const</code> å…³é”®å­—æ¥å£°æ˜ï¼Œé€šå¸¸ç”¨äºé‚£äº›åœ¨æ•´ä¸ªç¨‹åºç”Ÿå‘½å‘¨æœŸå†…ä¸ä¼šæ”¹å˜çš„å€¼ã€‚</p>
<p>å¸¸é‡ä¸ä¸å¯å˜å˜é‡çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œå¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨äºä¸­å£°æ˜ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸï¼Œè€Œä¸”å…¶å€¼å¿…é¡»åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šä¸‹æ¥ã€‚
å¸¸é‡çš„å€¼ä¸èƒ½ä¾èµ–äºè¿è¡Œæ—¶çš„è®¡ç®—ï¼Œè€Œæ˜¯å›ºå®šä¸å˜çš„ï¼Œè¿™æ„å‘³ç€å¸¸é‡é€šå¸¸è¢«ç”¨äºå®šä¹‰ç¨‹åºä¸­ä¸å¯æ”¹å˜çš„é‡è¦æ•°æ®ï¼Œä¾‹å¦‚æ•°å­¦å¸¸æ•°ã€é…ç½®å‚æ•°ç­‰ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const MAX_POINTS: u32 = 100_000;
<span class="boring">}</span></code></pre></pre>
<p>å¸¸é‡çš„å‘½åé€šå¸¸ä½¿ç”¨å…¨å¤§å†™å­—æ¯ï¼Œå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿åˆ†éš”ã€‚ä¸å˜é‡ä¸åŒï¼Œå¸¸é‡åœ¨å£°æ˜åä¸ä¼šè¢«é”€æ¯ï¼Œå®ƒä»¬åœ¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…å§‹ç»ˆæœ‰æ•ˆã€‚</p>
<h2 id="å˜é‡é®è”½"><a class="header" href="#å˜é‡é®è”½">å˜é‡é®è”½</a></h2>
<p>åœ¨ Rust ä¸­ï¼Œå¯ä»¥å£°æ˜ä¸€ä¸ªä¸ä¹‹å‰åŒåçš„æ–°å˜é‡ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œå˜é‡é®è”½ (shadowing)â€ã€‚é®è”½å…è®¸ä½ å¤ç”¨å˜é‡åè€Œä¸å¿…ä½¿ç”¨ <code>mut</code> å…³é”®å­—ã€‚ä¾‹å¦‚ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 5;
    let x = x + 1;  // é€šè¿‡é®è”½é‡æ–°ç»‘å®šå˜é‡ x
    let x = x * 2;

    println!("The value of x is: {}", x);  // è¾“å‡º "The value of x is: 12"
}</code></pre></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå˜é‡ <code>x</code> è¢«å¤šæ¬¡å£°æ˜ï¼Œæ¯æ¬¡éƒ½ä¼šé®è”½å‰ä¸€æ¬¡çš„å€¼ã€‚è¿™ä¸ä½¿ç”¨ mut ä¿®æ”¹å˜é‡ä¸åŒï¼Œå› ä¸ºæ¯æ¬¡é®è”½éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ï¼Œå¯ä»¥æ”¹å˜ç±»å‹æˆ–ä¸å¯å˜æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let spaces = "   "; // `spaces` æ˜¯å­—ç¬¦ä¸²ç±»å‹
    let spaces = spaces.len(); // `spaces` è¢«é®è”½ä¸ºä¸€ä¸ªæ•´æ•°ç±»å‹
    println!("Number of spaces: {}", spaces); // è¾“å‡º "Number of spaces: 3"
}</code></pre></pre>
<p>é€šè¿‡å˜é‡é®è”½ï¼Œä½ å¯ä»¥ä½¿ç”¨åŒæ ·çš„å˜é‡åç»‘å®šä¸åŒç±»å‹çš„å€¼ï¼Œè¿›è€Œæé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯è¯»æ€§ã€‚</p>
<h2 id="æ•°æ®ç±»å‹"><a class="header" href="#æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</a></h2>
<p>Rust æ˜¯é™æ€å¼ºç±»å‹è¯­è¨€ï¼Œè¿™æ„å‘³ç€åœ¨ç¼–è¯‘æ—¶å¿…é¡»çŸ¥é“æ¯ä¸ªå˜é‡çš„ç±»å‹ã€‚å¤§å¤šæ•°æƒ…å†µæ•°æ®ç±»å‹å¯ä»¥ç”±ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­ï¼Œä½†åœ¨ç¼–è¯‘å™¨æ— æ³•æ¨æ–­ç±»å‹æ—¶éœ€è¦æ˜¾å¼æŒ‡å®šæ•°æ®ç±»å‹ã€‚</p>
<h3 id="æ•´æ•°ç±»å‹"><a class="header" href="#æ•´æ•°ç±»å‹">æ•´æ•°ç±»å‹</a></h3>
<p>æ•´æ•°ç±»å‹åŒ…æ‹¬æœ‰ç¬¦å·å’Œæ— ç¬¦å·ä¸¤ç§ç±»å‹ï¼Œé•¿åº¦å¯ä¸º 8 ä½ã€16 ä½ã€32 ä½ã€64 ä½ã€128 ä½æˆ–åŸºäºæŒ‡é’ˆå¤§å°çš„ <code>isize</code> å’Œ <code>usize</code>ã€‚æ— ç¬¦å·æ•´æ•°ï¼ˆ<code>u</code> å¼€å¤´ï¼‰åªèƒ½å­˜å‚¨éè´Ÿå€¼ï¼Œè€Œæœ‰ç¬¦å·æ•´æ•°ï¼ˆ<code>i</code> å¼€å¤´ï¼‰å¯ä»¥å­˜å‚¨æ­£è´Ÿå€¼ã€‚</p>
<div class="table-wrapper"><table><thead><tr><th>Length</th><th>Signed</th><th>Unsigned</th></tr></thead><tbody>
<tr><td>8 bits</td><td><code>i8</code></td><td><code>u8</code></td></tr>
<tr><td>16 bits</td><td><code>i16</code></td><td><code>u16</code></td></tr>
<tr><td>32 bits</td><td><code>i32</code></td><td><code>u32</code></td></tr>
<tr><td>64 bits</td><td><code>i64</code></td><td><code>u64</code></td></tr>
<tr><td>128 bits</td><td><code>i128</code></td><td><code>u128</code></td></tr>
<tr><td>pointer-sized</td><td><code>isize</code></td><td><code>usize</code></td></tr>
</tbody></table>
</div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x: i32 = 42; // i32 æ˜¯æœ€å¸¸ç”¨çš„æ•´æ•°ç±»å‹
let y: u64 = 42; // æ— ç¬¦å· 64 ä½æ•´æ•°
let z = 1_000; // å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”æé«˜å¯è¯»æ€§
let a = 42; // é»˜è®¤ i32 ç±»å‹
let b = 42u64; // æŒ‡å®šä¸º u64 ç±»å‹
let c = 42_000; // ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”
<span class="boring">}</span></code></pre></pre>
<h3 id="æµ®ç‚¹ç±»å‹"><a class="header" href="#æµ®ç‚¹ç±»å‹">æµ®ç‚¹ç±»å‹</a></h3>
<p>æµ®ç‚¹ç±»å‹ç”¨äºå­˜å‚¨å¸¦å°æ•°çš„æ•°å­—ï¼ŒåŒ…æ‹¬ f32ï¼ˆå•ç²¾åº¦ï¼‰å’Œ f64ï¼ˆåŒç²¾åº¦ï¼‰ï¼Œé€šå¸¸é»˜è®¤ä½¿ç”¨ f64ï¼Œå› ä¸ºå®ƒæ¯” f32 æ›´åŠ ç²¾ç¡®ã€‚åœ¨éœ€è¦é«˜ç²¾åº¦è®¡ç®—çš„æƒ…å†µä¸‹ï¼Œä¹Ÿæ›´æ¨èä½¿ç”¨ f64ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 2.0; // f64 ç±»å‹
let y: f32 = 3.14; // æŒ‡å®šä¸º f32 ç±»å‹
let a = 1.0f32; // æŒ‡å®šä¸º f32 ç±»å‹
<span class="boring">}</span></code></pre></pre>
<h3 id="å¸ƒå°”ç±»å‹"><a class="header" href="#å¸ƒå°”ç±»å‹">å¸ƒå°”ç±»å‹</a></h3>
<p>å¸ƒå°”ç±»å‹ <code>true</code> æˆ– <code>false</code> å¸¸ç”¨äºæ¡ä»¶åˆ¤æ–­å’Œé€»è¾‘æ“ä½œï¼Œæ˜¯æ§åˆ¶æµä¸­ä¸å¯æˆ–ç¼ºçš„ç»„æˆéƒ¨åˆ†ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let yes: bool = true;
let no: bool = false;
let not = !no;
let and = yes &amp;&amp; no;
let or = yes || no;
let xor = yes ^ no;
<span class="boring">}</span></code></pre></pre>
<h3 id="å­—ç¬¦ç±»å‹"><a class="header" href="#å­—ç¬¦ç±»å‹">å­—ç¬¦ç±»å‹</a></h3>
<p>Rust çš„å­—ç¬¦ç±»å‹é•¿åº¦ä¸º 4 å­—èŠ‚ï¼Œä¸ä»…å¯ä»¥è¡¨ç¤º ASCII å­—ç¬¦ï¼Œè¿˜å¯ä»¥è¡¨ç¤ºæ‰€æœ‰çš„ Unicode å­—ç¬¦ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•è¯­è¨€çš„å­—ç¬¦ï¼Œç”šè‡³è¡¨æƒ…ç¬¦å·ã€‚è¿™åœ¨å¤„ç†å¤šè¯­è¨€æ–‡æœ¬æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let heart_eyed_cat = 'ğŸ˜»';
let letter = 'â„¤';
<span class="boring">}</span></code></pre></pre>
<h3 id="å­—ç¬¦ä¸²ç±»å‹"><a class="header" href="#å­—ç¬¦ä¸²ç±»å‹">å­—ç¬¦ä¸²ç±»å‹</a></h3>
<p>Rust çš„ String ç±»å‹æ˜¯ UTF-8 ç¼–ç ï¼Œä¸”æ˜¯å †åˆ†é…çš„ã€‚
String å¹¶ä¸æ˜¯ä»¥ç©ºå­—ç¬¦ç»“å°¾çš„ï¼Œä¸åƒ C/C++ ä¸­çš„å­—ç¬¦ä¸²ã€‚
Rust ä¸­æœ‰å¤šç§å­—ç¬¦ä¸²ç±»å‹ï¼Œä¾‹å¦‚ CStringã€PathBufã€OsString ç­‰ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s1 = String::from("Hello, ğŸŒ!");
<span class="boring">}</span></code></pre></pre>
<h2 id="å¤åˆç±»å‹"><a class="header" href="#å¤åˆç±»å‹">å¤åˆç±»å‹</a></h2>
<p>å¤åˆç±»å‹å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆåœ¨ä¸€èµ·</p>
<h3 id="å…ƒç»„"><a class="header" href="#å…ƒç»„">å…ƒç»„</a></h3>
<p>å…ƒç»„å¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å¤šä¸ªå€¼ï¼Œå…¶é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œéå¸¸é€‚åˆéœ€è¦å°†ä¸åŒç±»å‹çš„å€¼ç»„åˆåœ¨ä¸€èµ·çš„åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°å¯ä»¥é€šè¿‡è¿”å›å…ƒç»„æ¥ä¼ é€’å¤šä¸ªä¸åŒç±»å‹çš„å€¼ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let tup: (i32, f64, char) = (500, 6.4, 'a');
let (x, y, z) = tup; // è§£æ„å…ƒç»„
println!("The value of y is: {}", y);
println!("The second value is: {}", tup.1); // é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç»„
<span class="boring">}</span></code></pre></pre>
<h3 id="æ•°ç»„"><a class="header" href="#æ•°ç»„">æ•°ç»„</a></h3>
<p>æ•°ç»„çš„æ‰€æœ‰å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹ï¼Œé•¿åº¦åœ¨ç¼–è¯‘æ—¶ç¡®å®šã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let arr: [i32; 3] = [1, 2, 3];
println!("The first element is: {}", arr[0]);
<span class="boring">}</span></code></pre></pre>
<p>æ•°ç»„åœ¨æ ˆä¸Šåˆ†é…ï¼Œé€‚åˆå­˜å‚¨å›ºå®šå¤§å°çš„é›†åˆã€‚å¦‚æœéœ€è¦åŠ¨æ€å¤§å°çš„é›†åˆï¼Œå¯ä»¥ä½¿ç”¨ Vecï¼ˆå‘é‡ï¼‰å®ƒç±»ä¼¼äºæ•°ç»„ä½†å…·æœ‰å¯å˜é•¿åº¦ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut vec = Vec::new();
vec.push(1);
vec.push(2);
println!("The vector contains: {:?}", vec);
<span class="boring">}</span></code></pre></pre>
<h2 id="æ§åˆ¶æµ"><a class="header" href="#æ§åˆ¶æµ">æ§åˆ¶æµ</a></h2>
<p>æ§åˆ¶æµç”¨äºæ§åˆ¶ä»£ç çš„æ‰§è¡Œé¡ºåºï¼ŒåŒ…æ‹¬æ¡ä»¶åˆ¤æ–­å’Œå¾ªç¯ã€‚</p>
<h3 id="æ¡ä»¶åˆ¤æ–­"><a class="header" href="#æ¡ä»¶åˆ¤æ–­">æ¡ä»¶åˆ¤æ–­</a></h3>
<p>Rust ä½¿ç”¨ <code>if</code>ã€<code>else if</code> å’Œ <code>else</code> å…³é”®å­—æ¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let number = 6;
    if number % 4 == 0 {
        println!("number is divisible by 4");
    } else if number % 3 == 0 {
        println!("number is divisible by 3");
    } else if number % 2 == 0 {
        println!("number is divisible by 2");
    } else {
        println!("number is not divisible by 4, 3, or 2");
    }
}</code></pre></pre>
<p>æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼å¿…é¡»è¿”å›å¸ƒå°”ç±»å‹ï¼Œç±»ä¼¼äºå…¶ä»–ç¼–ç¨‹è¯­è¨€ã€‚ä¸€ä¸ªç‹¬ç‰¹ä¹‹å¤„æ˜¯ï¼Œif å¯ä»¥ä½œä¸ºè¡¨è¾¾å¼ä½¿ç”¨ï¼Œä»è€Œç®€åŒ–ä»£ç ã€‚ä¾‹å¦‚ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let condition = true;
let number = if condition { 5 } else { 6 }; // æ ¹æ®æ¡ä»¶èµ‹å€¼
println!("The value of number is: {}", number);
<span class="boring">}</span></code></pre></pre>
<p>è¿™ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ï¼Œå¹¶ä¸”å¯ä»¥å‡å°‘å˜é‡çš„é‡å¤å£°æ˜ã€‚</p>
<h3 id="å¾ªç¯"><a class="header" href="#å¾ªç¯">å¾ªç¯</a></h3>
<p>Rust æä¾›äº†ä¸‰ç§å¾ªç¯æ–¹å¼ï¼šloopã€while å’Œ forã€‚</p>
<p><strong>loopï¼š</strong> æ— é™å¾ªç¯ï¼Œé€šå¸¸ç”¨äºé‚£äº›éœ€è¦ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æŸä¸ªæ¡ä»¶è§¦å‘çš„åœºæ™¯ï¼Œä¾‹å¦‚æœåŠ¡å™¨çš„è¯·æ±‚å¤„ç†å¾ªç¯ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut count = 0;
loop {
    println!("count = {}", count);
    count += 1;
    if count == 5 {
        break;
    }
}
<span class="boring">}</span></code></pre></pre>
<p><strong>whileï¼š</strong> åœ¨æ¡ä»¶ä¸º <code>true</code> æ—¶é‡å¤æ‰§è¡Œä»£ç ï¼Œé€‚åˆåœ¨ä¸ç¡®å®šå¾ªç¯æ¬¡æ•°ï¼Œä½†çŸ¥é“ç»“æŸæ¡ä»¶çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut number = 3;
while number != 0 {
    println!("{}!", number);
    number -= 1;
}
println!("LIFTOFF!!!");
<span class="boring">}</span></code></pre></pre>
<p><strong>forï¼š</strong> éå†é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œé€šå¸¸ç”¨äºéå†æ•°ç»„ï¼Œå®ƒç®€æ´ä¸”å®‰å…¨ï¼Œä¸å®¹æ˜“å‘ç”Ÿè¶Šç•Œé”™è¯¯ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let a = [10, 20, 30, 40, 50];
for element in a.iter() {
    println!("the value is: {}", element);
}
for number in 1..4 { // `1..4` è¡¨ç¤ºä» 1 åˆ° 3
    println!("{}", number);
}
<span class="boring">}</span></code></pre></pre>
<h2 id="å‡½æ•°"><a class="header" href="#å‡½æ•°">å‡½æ•°</a></h2>
<p>åœ¨ Rust ä¸­ï¼Œå‡½æ•°æ˜¯åŸºæœ¬çš„ä»£ç ç»“æ„å•å…ƒã€‚å‡½æ•°çš„å£°æ˜ä½¿ç”¨ <code>fn</code> å…³é”®å­—ï¼Œå¹¶ä¸”å¿…é¡»æ˜ç¡®æ ‡æ³¨å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let result = add(5, 3);
    println!("The result is: {}", result);
}

fn add(a: i32, b: i32) -&gt; i32 {
    a + b // Rust ä¸­å¯ä»¥çœç•¥ return å…³é”®å­—ï¼Œåªéœ€å°†è¿”å›å€¼ä½œä¸ºæœ€åä¸€ä¸ªè¡¨è¾¾å¼
}</code></pre></pre>
<p>å‡½æ•°è¿”å›å€¼çš„ç±»å‹åœ¨ç®­å¤´ -&gt; ä¹‹åæŒ‡å®šã€‚å¦‚æœå‡½æ•°ä¸è¿”å›å€¼ï¼Œè¿”å›ç±»å‹å¯ä»¥çœç•¥æˆ–æ ‡ä¸º ()ã€‚</p>
<p>å‡½æ•°æ˜¯ç»„ç»‡ä»£ç ã€å‡å°‘é‡å¤ã€æé«˜å¯è¯»æ€§çš„é‡è¦å·¥å…·ã€‚åœ¨å‡½æ•°å†…ï¼Œæœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ä¼šè¢«éšå¼è¿”å›ï¼Œä¹Ÿå¯ä»¥æ˜¾å¼ä½¿ç”¨ return å…³é”®å­—æ¥è¿”å›æŸä¸ªå€¼ã€‚</p>
<h2 id="ä½œç”¨åŸŸäºæ‰€æœ‰æƒ"><a class="header" href="#ä½œç”¨åŸŸäºæ‰€æœ‰æƒ">ä½œç”¨åŸŸäºæ‰€æœ‰æƒ</a></h2>
<p>Rust ä¸­æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µå«â€œæ‰€æœ‰æƒ (Ownership)â€ã€‚æ‰€æœ‰æƒè§„åˆ™ç¡®ä¿å†…å­˜å®‰å…¨ï¼Œæ— éœ€<a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">åƒåœ¾å›æ”¶</a>æœºåˆ¶ã€‚</p>
<h3 id="æ‰€æœ‰æƒè§„åˆ™"><a class="header" href="#æ‰€æœ‰æƒè§„åˆ™">æ‰€æœ‰æƒè§„åˆ™</a></h3>
<ol>
<li>æ¯ä¸ªå€¼åœ¨ Rust ä¸­éƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€… (Owner)ã€‚</li>
<li>åŒä¸€æ—¶é—´å†…ï¼Œå€¼åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚</li>
<li>å½“æ‰€æœ‰è€…ç¦»å¼€ä½œç”¨åŸŸï¼Œå€¼å°†è¢«ä¸¢å¼ƒï¼Œå†…å­˜è¢«é‡Šæ”¾ã€‚</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let s = String::from("hello");  // s è¿›å…¥ä½œç”¨åŸŸ
    takes_ownership(s);  // s çš„æ‰€æœ‰æƒè½¬ç§»åˆ°å‡½æ•°å†…ï¼Œä¹‹åæ— æ³•å†ä½¿ç”¨ s

    let x = 5;  // x è¿›å…¥ä½œç”¨åŸŸ
    makes_copy(x);  // x æ˜¯åŸºæœ¬ç±»å‹ï¼Œå¤åˆ¶åä»ç„¶å¯ä»¥ä½¿ç”¨
}

fn takes_ownership(some_string: String) {
    println!("{}", some_string);
} // some_string ç¦»å¼€ä½œç”¨åŸŸå¹¶è°ƒç”¨ `drop`ï¼Œå†…å­˜è¢«é‡Šæ”¾

fn makes_copy(some_integer: i32) {
    println!("{}", some_integer);
} // some_integer æ˜¯åŸºæœ¬ç±»å‹ï¼Œç¦»å¼€ä½œç”¨åŸŸä¸ä¼šæœ‰ç‰¹æ®Šæ“ä½œ</code></pre></pre>
<p>æ‰€æœ‰æƒæœºåˆ¶çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œå®ƒé¿å…äº†æ•°æ®ç«äº‰å’Œæ‚¬å‚æŒ‡é’ˆé—®é¢˜ï¼Œç¡®ä¿äº†å†…å­˜å®‰å…¨ã€‚åœ¨ <code>String</code> è¿™æ ·çš„å¤æ‚æ•°æ®ç±»å‹ä¸­ï¼Œæ‰€æœ‰æƒçš„è½¬ç§»æ„å‘³ç€ä½ å¯ä»¥é¿å…å¤šæ¬¡é‡Šæ”¾å†…å­˜çš„æƒ…å†µã€‚æ­¤å¤–ï¼ŒRust è¿˜æä¾›äº†â€œå€Ÿç”¨ (Borrowing)â€çš„æ¦‚å¿µæ¥å…‹æœæ‰€æœ‰æƒçš„å±€é™æ€§ã€‚</p>
<h3 id="å€Ÿç”¨ä¸å¼•ç”¨"><a class="header" href="#å€Ÿç”¨ä¸å¼•ç”¨">å€Ÿç”¨ä¸å¼•ç”¨</a></h3>
<p>å¼•ç”¨å…è®¸ä½ åœ¨ä¸è·å–æ‰€æœ‰æƒçš„æƒ…å†µä¸‹è®¿é—®æ•°æ®ã€‚å¼•ç”¨ä½¿ç”¨ <code>&amp;</code> ç¬¦å·è¡¨ç¤ºï¼Œè€Œå¯å˜å¼•ç”¨ä½¿ç”¨ <code>&amp;mut</code> è¡¨ç¤ºï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let s1 = String::from("hello");
    let len = calculate_length(&amp;s1); // å€Ÿç”¨ s1
    println!("The length of '{}' is {}.", s1, len);
}

fn calculate_length(s: &amp;String) -&gt; usize {
    s.len() // ä½¿ç”¨å¼•ç”¨ï¼Œä¸è·å¾—æ‰€æœ‰æƒ
}</code></pre></pre>
<p>é€šè¿‡ä½¿ç”¨å¼•ç”¨ï¼Œä½ å¯ä»¥é¿å…æ‰€æœ‰æƒçš„è½¬ç§»ï¼Œä»è€Œç»§ç»­åœ¨ä¸»å‡½æ•°ä¸­ä½¿ç”¨å˜é‡ã€‚Rust ç¼–è¯‘å™¨ä¼šç¡®ä¿å¼•ç”¨çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢<a href="https://oi-wiki.org/lang/reference/">æ‚¬å‚å¼•ç”¨</a>ã€‚</p>
<p>å¯å˜å¼•ç”¨å…è®¸ä½ ä¿®æ”¹å€Ÿç”¨çš„å˜é‡ï¼Œä½†åœ¨åŒä¸€æ—¶é—´å†…ï¼Œç‰¹å®šæ•°æ®åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨æˆ–å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼Œä»¥ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut s = String::from("hello");
    change(&amp;mut s);
    println!("{}", s);
}

fn change(some_string: &amp;mut String) {
    some_string.push_str(", world");
}</code></pre></pre>
<p>è¿™ç§ä¸¥æ ¼çš„è§„åˆ™ä½¿å¾— Rust åœ¨æ²¡æœ‰åƒåœ¾å›æ”¶å™¨çš„æƒ…å†µä¸‹ä¾ç„¶èƒ½å®ç°å†…å­˜å®‰å…¨ã€‚</p>
<h1 id="exercise"><a class="header" href="#exercise">Exercise</a></h1>
<p>åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ <code>exercises/1-foundations-of-rust/1-basic-syntax/1-basic-syntax</code>ã€‚æ­¤æ–‡ä»¶å¤¹ä¸­åŒ…å«è®¸å¤šç»ƒä¹ ï¼Œå¯ä»¥ç”¨äºç»ƒä¹ åŸºæœ¬çš„ Rust è¯­æ³•ã€‚</p>
<p>è¦å¼€å§‹ç»ƒä¹ ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="language-bash">cargo run --bin 01
</code></pre>
<p>è¿™å°†å°è¯•ç¼–è¯‘å¹¶è¿è¡Œ exercies 1ã€‚</p>
<p>è¦ç»§ç»­å…¶ä»–ç»ƒä¹ ï¼Œåªéœ€æ›´æ”¹ç»ƒä¹ ç¼–å·ã€‚</p>
<p>å…¶ä¸­ä¸€äº›ç»ƒä¹ åŒ…å«å•å…ƒæµ‹è¯•ï¼Œéœ€è¦æµ‹è¯• <code>src/bin/01.rs</code> è¯·è¿è¡Œï¼š</p>
<pre><code class="language-bash">cargo test --bin 01
</code></pre>
<p>ç¡®ä¿æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ï¼</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../foundations/first-project.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../foundations/ownership-and-references.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../foundations/first-project.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../foundations/ownership-and-references.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>

        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../theme/pagetoc.js"></script>


    </body>
</html>